{"uid":"f56287e1f3248fdb","name":"Successful - Initialize Transaction","fullName":"Initialize Transaction#Successful - Initialize Transaction","historyId":"c407354a-8002-4587-a924-5dad2a361c3e","time":{"start":1715961006931,"stop":1715961007075,"duration":144},"description":"There are three main stages in S2S charge:\n\n1.  *Initiate the payment*: You send the transaction details and the customer's card details to *transaction*/*initialize* endpoints.\n2.  *Authorize the charge*: Render the HTML content returned in data on your payment checkout interface or alternatively redirect to the alt URL. The customer authorizes the charge with their payment provider, such as their card issuer or bank. This completes the payer authentication.\n3.  *Verify the payment*: You'll call our *Verify Transaction API* to verify that the payment was successful before giving value (the *verify transaction* endpoint) or wait to receive webhook notification.\n    \n\n**Request**\n\nemail: *customer email*  \namount: *transaction amount*  \ncurrency: *transaction currency*  \nreference: *unique reference must be atleast 16 unique characters*  \ncard: *Kindly pass the response of the encrypted card reference.*\n\n**Response**\n\ndata: *Kindly render this in the HTML.*\n\nalt: *Incase you are unable to render the data in HTML, you can make use of alt link.*\n\n**Additional Info**\n\nAfter successful transaction, a webhook event will be initiated and sent to the webhook url you set on the dashboard.\n\nYou are expected to call verify transaction endpoint to know the outcome of transaction.","descriptionHtml":"There are three main stages in S2S charge:<br><br>1.  Initiate the payment: You send the transaction details and the customer's card details to transaction/initialize endpoints.<br>2.  Authorize the charge: Render the HTML content returned in data on your payment checkout interface or alternatively redirect to the alt URL. The customer authorizes the charge with their payment provider, such as their card issuer or bank. This completes the payer authentication.<br>3.  Verify the payment: You'll call our Verify Transaction API to verify that the payment was successful before giving value (the verify transaction endpoint) or wait to receive webhook notification.<br>    <br><br>Request<br><br>email: customer email  <br>amount: transaction amount  <br>currency: transaction currency  <br>reference: unique reference must be atleast 16 unique characters  <br>card: Kindly pass the response of the encrypted card reference.<br><br>Response<br><br>data: Kindly render this in the HTML.<br><br>alt: Incase you are unable to render the data in HTML, you can make use of alt link.<br><br>Additional Info<br><br>After successful transaction, a webhook event will be initiated and sent to the webhook url you set on the dashboard.<br><br>You are expected to call verify transaction endpoint to know the outcome of transaction.","status":"failed","statusMessage":"Verify that status is 'true', Verify that message returns 'Proceed authentication'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"There are three main stages in S2S charge:\n\n1.  *Initiate the payment*: You send the transaction details and the customer's card details to *transaction*/*initialize* endpoints.\n2.  *Authorize the charge*: Render the HTML content returned in data on your payment checkout interface or alternatively redirect to the alt URL. The customer authorizes the charge with their payment provider, such as their card issuer or bank. This completes the payer authentication.\n3.  *Verify the payment*: You'll call our *Verify Transaction API* to verify that the payment was successful before giving value (the *verify transaction* endpoint) or wait to receive webhook notification.\n    \n\n**Request**\n\nemail: *customer email*  \namount: *transaction amount*  \ncurrency: *transaction currency*  \nreference: *unique reference must be atleast 16 unique characters*  \ncard: *Kindly pass the response of the encrypted card reference.*\n\n**Response**\n\ndata: *Kindly render this in the HTML.*\n\nalt: *Incase you are unable to render the data in HTML, you can make use of alt link.*\n\n**Additional Info**\n\nAfter successful transaction, a webhook event will be initiated and sent to the webhook url you set on the dashboard.\n\nYou are expected to call verify transaction endpoint to know the outcome of transaction.","descriptionHtml":"There are three main stages in S2S charge:<br><br>1.  Initiate the payment: You send the transaction details and the customer's card details to transaction/initialize endpoints.<br>2.  Authorize the charge: Render the HTML content returned in data on your payment checkout interface or alternatively redirect to the alt URL. The customer authorizes the charge with their payment provider, such as their card issuer or bank. This completes the payer authentication.<br>3.  Verify the payment: You'll call our Verify Transaction API to verify that the payment was successful before giving value (the verify transaction endpoint) or wait to receive webhook notification.<br>    <br><br>Request<br><br>email: customer email  <br>amount: transaction amount  <br>currency: transaction currency  <br>reference: unique reference must be atleast 16 unique characters  <br>card: Kindly pass the response of the encrypted card reference.<br><br>Response<br><br>data: Kindly render this in the HTML.<br><br>alt: Incase you are unable to render the data in HTML, you can make use of alt link.<br><br>Additional Info<br><br>After successful transaction, a webhook event will be initiated and sent to the webhook url you set on the dashboard.<br><br>You are expected to call verify transaction endpoint to know the outcome of transaction.","status":"failed","statusMessage":"Verify that status is 'true', Verify that message returns 'Proceed authentication'","steps":[{"name":"Status code is 200","time":{"start":1715961007066,"stop":1715961007066,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Status code name has 'OK'","time":{"start":1715961007067,"stop":1715961007067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify that status is 'true'","time":{"start":1715961007072,"stop":1715961007072,"duration":0},"status":"failed","statusMessage":"expected '{\"status\":false,\"message\":\"Reference …' to include 'true'","statusTrace":"Error: expected '{\"status\":false,\"message\":\"Reference …' to include 'true'\n    at eval (eval at exec (evalmachine.<anonymous>:66:1818546), <anonymous>:11:38)\n    at e.test (evalmachine.<anonymous>:66:11560)\n    at Object.eval (eval at exec (evalmachine.<anonymous>:66:1818546), <anonymous>:10:4)\n    at u.exec (evalmachine.<anonymous>:66:1818581)\n    at t.exports (evalmachine.<anonymous>:66:5826)\n    at Object.<anonymous> (evalmachine.<anonymous>:66:8225)\n    at evalmachine.<anonymous>:15:26\n    at Array.forEach (<anonymous>)\n    at Object.emit (evalmachine.<anonymous>:14:59)\n    at evalmachine.<anonymous>:59:24","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Verify that message returns 'Proceed authentication'","time":{"start":1715961007073,"stop":1715961007073,"duration":0},"status":"failed","statusMessage":"expected '{\"status\":false,\"message\":\"Reference …' to include 'Proceed authentication'","statusTrace":"Error: expected '{\"status\":false,\"message\":\"Reference …' to include 'Proceed authentication'\n    at eval (eval at exec (evalmachine.<anonymous>:66:1818546), <anonymous>:14:38)\n    at e.test (evalmachine.<anonymous>:66:11560)\n    at Object.eval (eval at exec (evalmachine.<anonymous>:66:1818546), <anonymous>:13:4)\n    at u.exec (evalmachine.<anonymous>:66:1818581)\n    at t.exports (evalmachine.<anonymous>:66:5826)\n    at Object.<anonymous> (evalmachine.<anonymous>:66:8225)\n    at evalmachine.<anonymous>:15:26\n    at Array.forEach (<anonymous>)\n    at Object.emit (evalmachine.<anonymous>:14:59)\n    at evalmachine.<anonymous>:59:24","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3883d3d90339509f","name":"Request Headers","source":"3883d3d90339509f.json","type":"application/json","size":479},{"uid":"60aa3586fcfda0aa","name":"Request Body","source":"60aa3586fcfda0aa.txt","type":"text/plain","size":336},{"uid":"910a0f8345b361c4","name":"Response Headers","source":"910a0f8345b361c4.json","type":"application/json","size":276},{"uid":"dc064589dd85e6e7","name":"Response Body","source":"dc064589dd85e6e7.txt","type":"text/plain","size":52}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"Initialize Transaction"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Request","value":"POST - https://api.stag.duplopg.com/api/s2s/transaction/initialize"},{"name":"Response Code","value":"200"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"f56287e1f3248fdb.json","parameterValues":["POST - https://api.stag.duplopg.com/api/s2s/transaction/initialize","200"]}